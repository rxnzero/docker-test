<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="stdDefault">
  <statement id="selectListCount" parameterClass="java.util.HashMap" resultClass="java.lang.Integer">
	SELECT COUNT(*) AS "CNT"
	  FROM   $schemaId$.TSEAIHS03
	<dynamic prepend="WHERE">
		<isNotEmpty prepend="AND" property="searchColumnName">
			UPPER(COLUMNNAME) LIKE UPPER('%' || #searchColumnName# || '%')
		</isNotEmpty>
		<isNotEmpty prepend="AND" property="searchColumnDesc">
			UPPER(COLUMNDESC) LIKE UPPER('%' || #searchColumnDesc# || '%')
		</isNotEmpty>
	</dynamic>
  </statement>

  <statement id="selectList" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
	SELECT  ROWNO AS "ROWNO"
		, COLUMNNAME    AS "COLUMNNAME"
		, COLUMNDESC    AS "COLUMNDESC"
		, COLUMNLENGTH  AS "COLUMNLENGTH"
		, ISKEY         AS "ISKEY"
		, KEYSEQ        AS "KEYSEQ"
		, ISINTERFACE   AS "ISINTERFACE"
		, COMBONAME     AS "COMBONAME"
		, COMBODEPTH    AS "COMBODEPTH"
		, COLUMNDEFAULT AS "COLUMNDEFAULT"
	  FROM (
			SELECT ROW_NUMBER() OVER(ORDER BY COLUMNNAME) ROWNO
				 , COLUMNNAME
				 , COLUMNDESC
				 , COLUMNLENGTH
				 , ISKEY
				 , KEYSEQ
				 , ISINTERFACE
				 , COMBONAME
				 , COMBODEPTH
				 , COLUMNDEFAULT
			  FROM $schemaId$.TSEAIHS03
		    <dynamic prepend="WHERE">
				<isNotEmpty prepend="AND" property="searchColumnName">
					UPPER(COLUMNNAME) LIKE UPPER('%' || #searchColumnName# || '%')
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="searchColumnDesc">
					UPPER(COLUMNDESC) LIKE UPPER('%' || #searchColumnDesc# || '%')
				</isNotEmpty>
			</dynamic>
		   ) AS TB
	 WHERE ROWNO BETWEEN #startNum# AND #endNum#
  </statement>
</sqlMap>
