<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="JmsQueue">
<!--  #### JMS Queue ###  -->

	<!--   전체 목록수 얻기 -->
	<statement id="selectListCount" parameterClass="java.util.HashMap" resultClass="java.lang.Integer">
            SELECT COUNT(NONSYNCZTRANQUENAME)
            FROM $schemaId$.TSEAIQM01
            <isNotEmpty prepend="WHERE" property="searchNonSynczTranQueName">
	             NONSYNCZTRANQUENAME LIKE '%' || #searchNonSynczTranQueName# || '%'
	         </isNotEmpty>
	</statement>
	
	<!--  목록 조회  -->
	<statement id="selectList" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
			SELECT * FROM (
							<!-- SELECT ROW_NUMBER() OVER (ORDER BY NONSYNCZTRANQUENAME) ROWNUM, -->
							SELECT ROWNUM AS ROWNO,
							       NONSYNCZTRANQUENAME AS NONSYNCZTRANQUENAME,
							       EAIQUEBZWKCTNT AS QUEBZWKCTNT,
							       QUEUSEYN AS QUEUSEYN,
							       DECODE(QUEUSEYN, '1', '사용', '미사용') AS QUEUSEYNNAME,
							       QUEUSAGDSTCD AS QUEUSAGDSTCD,
							       DECODE(QUEUSAGDSTCD, '1', '송신', '2', '수신', '3', '송신에러', '수신에러') AS QUEUSAGDSTNAME,
							       EAIBZWKDSTCD AS BZWKDSTCD,
							       EAIQUEBZWKDTALSCTNT AS QUEBZWKDTALSCTNT,
							       EAISEVRINSTNCNAME AS SEVRINSTNCNAME
							FROM $schemaId$.TSEAIQM01
                            <isNotEmpty prepend="WHERE" property="searchNonSynczTranQueName">
                                NONSYNCZTRANQUENAME LIKE '%' || #searchNonSynczTranQueName# || '%'
                            </isNotEmpty>
                           ORDER BY NONSYNCZTRANQUENAME
			)  ORGTABLE
			WHERE ROWNO BETWEEN #startNum# AND #endNum#
	</statement>	
 </sqlMap>
