<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="ServiceInfo">
<!--  #### 라우팅 필드추출 정보 관리 ###  -->
	<!--  목록 조회  -->
	<statement id="B2BExtractMan" resultClass="java.util.HashMap">
		SELECT 
			ROWNO AS "ROWNO", 
			EAISVCNAME AS "EAI_SERVICE_CODE" , 
			ETRACTDSTCDNAME AS "EXTRACT_CODE", 
			BZWKFLDNAME1 AS "BIZ_FIELD_NAME1", 
			BZWKFLDNAME2 AS "BIZ_FIELD_NAME1" 
		     FROM ( 
		       <!-- SELECT ROW_NUMBER() OVER (ORDER BY EAISVCNAME , ETRACTDSTCDNAME) ROWNO, --> 
               SELECT ROW_NUMBER() OVER (ORDER BY EAISVCNAME , ETRACTDSTCDNAME) AS ROWNO, 
				EAISVCNAME , 
						ETRACTDSTCDNAME, 
						BZWKFLDNAME1, 
						BZWKFLDNAME2 
				FROM $schemaId$.TSEAIFR06
				<dynamic prepend="WHERE">
					<isNotEmpty prepend="AND" property="EAI_SERVICE_CODE">
						UPPER(TB.EAISVCNAME\) LIKE #EAI_SERVICE_CODE#
					</isNotEmpty>
				</dynamic>
		  	) TMP1 
		 WHERE ROWNO BETWEEN #STARTNUM# AND #ENDNUM#	
	</statement>	

	<!--   전체 목록수 얻기 -->
	<statement id="B2BExtractManCnt" resultClass="java.lang.Integer">
		SELECT 	COUNT(*) AS "CNT"
			FROM $schemaId$.TSEAIFR06 TB
		<dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="EAI_SERVICE_CODE">
				UPPER(TB.EAISVCNAME\) LIKE #EAI_SERVICE_CODE#
			</isNotEmpty>
		</dynamic>				
	</statement>	
	
	<!--  insert  -->
	<statement id="B2BExtractManInsert" parameterClass="java.util.HashMap" resultClass="java.lang.Integer">
		INSERT 	INTO $schemaId$.TSEAITR06(
				LOUTPTRNNAME,
				<isNotEmpty property="LAYOUT_DESC">
				LOUTPTRNDESC, 
				</isNotEmpty>
				MSGLOUTCRETNCLSNAME
				)
		VALUES	(#LAYOUT_NAME#,
				<isNotEmpty property="LAYOUT_DESC">
				#LAYOUT_DESC#,
				</isNotEmpty>
				#GEN_CLASS#
				)		
	</statement>	
	
	<!--  상세 조회 -->
	<statement id="B2BExtractManDetail" resultClass="java.util.HashMap">
		SELECT TB.LOUTPTRNNAME LAYOUT_NAME, 
			   TB.LOUTPTRNDESC LAYOUT_DESC,
			   TB.MSGLOUTCRETNCLSNAME GEN_CLASS
		FROM $schemaId$.TSEAITR06 TB 
		WHERE TB.LOUTPTRNNAME=#LAYOUT_NAME#
	</statement>  
	
	<!--  update  -->
	<statement id="B2BExtractManUpdate" parameterClass="java.util.HashMap" resultClass="java.lang.Integer">
	 	UPDATE 	$schemaId$.TSEAITR06 
	 	SET LOUTPTRNDESC = #LAYOUT_DESC#, 
	 		MSGLOUTCRETNCLSNAME = #GEN_CLASS#
	 	WHERE 	LOUTPTRNNAME = #LAYOUT_NAME#
	</statement>
	
	<!--  delete  -->
	<statement id="B2BExtractManDelete" parameterClass="java.util.HashMap" resultClass="java.lang.Integer">
	 	DELETE FROM $schemaId$.TSEAITR06 
	 	WHERE 	LOUTPTRNNAME = #LAYOUT_NAME#
	</statement>	
	
<!--  #### 변환함수 ###  -->
	<!--  목록 조회  -->
	<statement id="B2BServiceMan" resultClass="java.util.HashMap">
		SELECT	ROWNO, 
				CNVSNFUNTNNAME FUNC_NAME, 
				CNVSNFUNTNDESC FUNC_DESC, 
				CNVSNFUNTNRETUNPTRNIDNAME FUNC_RETURN_ID, 
				CNVSNFUNTNPTRNIDNAME FUNC_TYPE_ID, 
				CNVSNFUNTNCLSNAME FUNC_CLASS_NAME
		FROM ( 
			<!-- SELECT ROW_NUMBER() OVER (ORDER BY TB.CNVSNFUNTNNAME) ROWNO, --> 
            SELECT ROWNUM AS ROWNO, 
				TB.CNVSNFUNTNNAME, 
						TB.CNVSNFUNTNDESC, 
						TB.CNVSNFUNTNRETUNPTRNIDNAME, 
						TB.CNVSNFUNTNPTRNIDNAME, 
						TB.CNVSNFUNTNCLSNAME 
				 FROM $schemaId$.TSEAITR04 TB
				<dynamic prepend="WHERE">
					<isNotEmpty prepend="AND" property="FUNC_NAME">
						UPPER(TB.CNVSNFUNTNNAME) LIKE #FUNC_NAME#
					</isNotEmpty>
				</dynamic>	
		) TMP1 
		WHERE ROWNO BETWEEN #STARTNUM# AND #ENDNUM#	
	</statement>	

	<!--   전체 목록수 얻기 -->
	<statement id="B2BServiceManCnt" resultClass="java.lang.Integer">
		SELECT 	COUNT(*) CNT
			FROM $schemaId$.TSEAITR04 TB
		<dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="FUNC_NAME">
				UPPER(TB.CNVSNFUNTNNAME) LIKE #FUNC_NAME#
			</isNotEmpty>
		</dynamic>	
	</statement>	
	
	<!--  insert  -->
	<statement id="B2BServiceManInsert" parameterClass="java.util.HashMap" resultClass="java.lang.Integer">
		INSERT 	INTO $schemaId$.TSEAITR06(
				LOUTPTRNNAME,
				<isNotEmpty property="LAYOUT_DESC">
				LOUTPTRNDESC, 
				</isNotEmpty>
				MSGLOUTCRETNCLSNAME
				)
		VALUES	(#LAYOUT_NAME#,
				<isNotEmpty property="LAYOUT_DESC">
				#LAYOUT_DESC#,
				</isNotEmpty>
				#GEN_CLASS#
				)		
	</statement>	
	
	<!--  상세 조회 -->
	<statement id="B2BServiceManDetail" resultClass="java.util.HashMap">
		SELECT 	TB.CNVSNFUNTNNAME FUNC_NAME, 
				TB.CNVSNFUNTNDESC FUNC_DESC, 
				TB.CNVSNFUNTNRETUNPTRNIDNAME FUNC_RETURN_ID, 
				TB.CNVSNFUNTNPTRNIDNAME FUNC_TYPE_ID, 
				TB.CNVSNFUNTNCLSNAME FUNC_CLASS_NAME
		FROM $schemaId$.TSEAITR04 TB 
		WHERE TB.CNVSNFUNTNNAME=#FUNC_NAME#
	</statement>  
	
	<statement id="B2BServiceManRuleDetail" resultClass="java.util.HashMap">
		SELECT	TB.CNVSNFUNTNNAME FUNC_NAME, 
				TB.CNVSNFUNTNPARMNAME FUNC_PARAM, 
				TB.CNVSNFUNTNPARMDESC FUNC_PARAM_DESC,  
				TB.CNVSNFUNTNPARMPTRNIDNAME FUNC_PARAM_ID, 
				TB.CNVSNFUNTNPARMSERNO FUNC_PARAM_SEQ
		FROM $schemaId$.TSEAITR05 TB 
		WHERE TB.CNVSNFUNTNNAME=#FUNC_NAME#
	</statement>  	
	
	
	<!--  update  -->
	<statement id="B2BServiceManUpdate" parameterClass="java.util.HashMap" resultClass="java.lang.Integer">
	 	UPDATE 	$schemaId$.TSEAITR06 
	 	SET LOUTPTRNDESC = #LAYOUT_DESC#, 
	 		MSGLOUTCRETNCLSNAME = #GEN_CLASS#
	 	WHERE 	LOUTPTRNNAME = #LAYOUT_NAME#
	</statement>
	
	<!--  delete  -->
	<statement id="B2BServiceManDelete" parameterClass="java.util.HashMap" resultClass="java.lang.Integer">
	 	DELETE FROM $schemaId$.TSEAITR06 
	 	WHERE 	LOUTPTRNNAME = #LAYOUT_NAME#
	</statement>	
	
</sqlMap>
