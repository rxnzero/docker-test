<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="JmsQueue">
<!--  #### JMS Queue ###  -->

	<!--   전체 목록수 얻기 -->
	<statement id="selectListCount" parameterClass="java.util.HashMap" resultClass="java.lang.Integer">
            SELECT COUNT(NONSYNCZTRANQUENAME)
            FROM $schemaId$.TSEAIQM01
            <isNotEmpty prepend="WHERE" property="searchNonSynczTranQueName">
	             NONSYNCZTRANQUENAME LIKE '%' || #searchNonSynczTranQueName# || '%'
	         </isNotEmpty>
	</statement>
	
	<!--  목록 조회  -->
	<statement id="selectList" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
			SELECT * FROM (
							<!-- SELECT ROW_NUMBER() OVER (ORDER BY NONSYNCZTRANQUENAME) ROWNUM, -->
							SELECT ROW_NUMBER() OVER (ORDER BY NONSYNCZTRANQUENAME) AS "ROWNO",
							       NONSYNCZTRANQUENAME AS "NONSYNCZTRANQUENAME",
							       EAIQUEBZWKCTNT AS "QUEBZWKCTNT",
							       QUEUSEYN AS "QUEUSEYN",
							       (CASE WHEN QUEUSEYN = '1' THEN '사용' ELSE '미사용' END) AS "QUEUSEYNNAME",
							       QUEUSAGDSTCD AS "QUEUSAGDSTCD",
							       CASE WHEN QUEUSAGDSTCD = '1' THEN  '송신'
							        WHEN QUEUSAGDSTCD = '2' THEN '수신'
									WHEN QUEUSAGDSTCD = '3' THEN '송신에러'
									ELSE '수신에러' END AS "QUEUSAGDSTNAME",
							       EAIBZWKDSTCD AS "BZWKDSTCD",
							       EAIQUEBZWKDTALSCTNT AS "QUEBZWKDTALSCTNT",
							       EAISEVRINSTNCNAME AS "SEVRINSTNCNAME"
							FROM $schemaId$.TSEAIQM01
                            <isNotEmpty prepend="WHERE" property="searchNonSynczTranQueName">
                                NONSYNCZTRANQUENAME LIKE '%' || #searchNonSynczTranQueName# || '%'
                            </isNotEmpty>
                           ORDER BY NONSYNCZTRANQUENAME
			)  ORGTABLE
			WHERE "ROWNO" BETWEEN #startNum# AND #endNum#
	</statement>	
 </sqlMap>
